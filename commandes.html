<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Panier de commande</title>

<style>
    table { border-collapse: collapse; width: 500px; margin-top: 20px; }
    th, td { border: 1px solid #aaa; padding: 10px; text-align: center; }
    .btn { padding: 6px 12px; cursor: pointer; }
    .add { background: rgb(196, 167, 8); color: white; }
    .delete { background: red; color: white; }
    img{
        width: 100%;
    }
</style>

</head>
<body>

<center><h2 ><strong>Panier de commande</strong></h2></center>
  <br> <br>
  <marquee behavior="" direction=""> <h2 style="color: aqua;">Commnder en toutes securité</h2></marquee>
<br><br>
<img src="ttt.jpg" alt="">
<br> <br><br>
<form action="" method="POST">

    <button type="button" class="btn add" onclick="ajouterLigne()">+ Ajouter un article</button>

    <table>
        <thead>
            <tr>
                <th>Nom de l'article</th>
                <th>Prix (€)</th>
                <th>Retirer</th>
            </tr>
        </thead>
        <tbody id="contenu"></tbody>
    </table>

    <h3 id="total">Total : 0 €</h3>

    <br>
    <input type="submit" class="btn add" value="Valider la commande">

</form>

<script>

function ajouterLigne() {
    let tbody = document.getElementById("contenu");

    let tr = document.createElement("tr");

    tr.innerHTML = `
        <td>
            <input type="text" name="nom[]" placeholder="Nom" required>
        </td>
        <td>
            <input type="number" name="prix[]" class="prix" min="0" step="0.01" value="0" oninput="calculerTotal()" required>
        </td>
        <td>
            <button type="button" class="btn delete" onclick="supprimerLigne(this)">X</button>
        </td>
    `;

    tbody.appendChild(tr);

    calculerTotal();
}

function supprimerLigne(btn) {
    btn.parentElement.parentElement.remove();
    calculerTotal();
}

function calculerTotal() {
    let total = 0;

    document.querySelectorAll(".prix").forEach(input => {
        let prix = parseFloat(input.value) || 0;
        total += prix;
    });

    document.getElementById("total").textContent = "Total : " + total.toFixed(2) + " €";
}

</script>

</body>
</html>
